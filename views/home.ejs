<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('./partials/head', { title: 'Home', pageCss: 'home' }) %>
  </head>

  <body class="bg-gray-50 min-h-screen flex flex-col">
    <!-- ✅ Header + Navigation -->
    <%- include('partials/header', { user: user }) %>

    <main class="flex-grow container mx-auto px-4 py-20 text-center">
      <h1 class="text-4xl font-bold text-gray-800 mb-6">Welcome to <span class="text-blue-600">MyDrive</span></h1>

      <!-- ✅ Flash error block -->
      <% if (error) { %>
        <%- include('partials/errors', { message: error }) %>
      <% } %>

      <!-- ✅ Flash success block -->
      <% if (success) { %>
        <%- include('partials/success', { message: success }) %>
      <% } %>

      <% if (!user) { %>
        <p class="text-gray-600 text-lg mb-6">You are not logged in.</p>

        <div class="flex justify-center gap-4">
          <a href="/auth/login" class="px-6 py-2 bg-blue-600 text-white font-medium rounded hover:bg-blue-700 transition">
            Login
          </a>
          <a href="/auth/register" class="px-6 py-2 bg-green-600 text-white font-medium rounded hover:bg-green-700 transition">
            Register
          </a>
        </div>
      <% } else { %>
        <p class="text-gray-700 text-lg mb-6">Hello, <span class="font-semibold"><%= user.name %></span>!</p>

        <div class="flex justify-center flex-wrap gap-4">
          <a href="/dashboard" class="px-6 py-2 bg-blue-600 text-white font-medium rounded hover:bg-blue-700 transition">
            Go to Dashboard
          </a>

          <form action="/auth/logout" method="POST">
            <button class="px-6 py-2 bg-red-500 text-white font-medium rounded hover:bg-red-600 transition">
              Logout
            </button>
          </form>
        </div>
      <% } %>
    </main>

    <%- include('partials/footer') %>
  </body>
</html>
